{% extends 'home.html' %}
{% load bootstrap4 %}
{% block title %}Profile | {{ request.user.get_username }} {% endblock %}
{% block main %}

<div class="container">
   <div class="row">
     <div class="col-lg-8 offset-2">
       <br/>
       <br/>
       <br/>
       <div>
         <div class="card">
            <div class="card-header">


              {% if request.user.student.photo %}
              <img class="circle offset-5" src="{{request.user.student.photo.url}}"
                        width="70" height="70" />
                {%endif%}
                      <div class="row">
                        <a class="offset-1" href="{% url 'edit_profile' %}">Edit Profile</a>
                        <a class="offset-1"  href="{% url 'social:begin' 'google-oauth2' %}">add Google</a>
                        <a class="offset-1"   href="{% url 'social:begin' 'github' %}">add GitHub</a>
                      </div>

                          <p><a href="{% url 'password_reset' %}">change password</a></p>
                 <h1>{{ request.user.get_username }}</h1>
                 {% if request.user.student.bio %}
                 <p>{{request.user.student.bio}}</p>
                 {% endif %}
                <br>
                {% if providers %}
                <p>related account: {{providers}}</p>
                {% endif %}

                 <div class="row">
                      Level : {{level}}
                      <br>
                      Point:   {{request.user.student.exp}} exp

                      <img class="" src="{{request.user.student.rank.logo.url}}"
                                width="7%" height="7%" />

                      <br>
                      Rank : {{request.user.student.rank.get_name_display}}
                      <br>
                      Rank description : {{request.user.student.rank.description}}
                     </div>
                       {{request.user.student.get_student_interests}}
                 {% for interest in interests %}
               <span class="badge text-white"  data-color = '{{interest.color}}'  style="background-color:{{ interest.color }};"
                 >{{ interest }}</span> {% endfor %}

               </div>
               <div class="card-header ">

                 <h6>Taken Course</h6>
                 {% for course in taken_course %}
                 <a class="col" href="{% url  'modules' course.subject.slug course.course.slug %}">{{course.course.title}}</a>
                 {% endfor %}

                 <h6>Taken Module</h6>
                 {% for module in taken_module %}
                 <a class="col" href="{% url 'contents' module.course.slug module.module.slug %}">{{module.module.title}}</a>
                 {% endfor %}

               </div>

<div class="card-footer ">

</div>
<br/>

</div>

</div>
</div>
</div>
</div>

{% endblock %}
